"use strict";(self.webpackChunkuxpages=self.webpackChunkuxpages||[]).push([[559],{739:function(e,t,o){o.r(t);var n=o(6540);t.default=e=>{let{videoSrc:t,popups:o}=e;const{0:r,1:i}=(0,n.useState)(0),{0:p,1:s}=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=document.getElementById(`video-${t}`);if(!e)return void console.error(`Video element with id 'video-${t}' not found.`);const n=()=>{console.log(`Video Time: ${e.currentTime}`),console.log(`Current Popup Index: ${r}`),r<o.length&&e.currentTime>=o[r].time&&(console.log(`Showing popup ${r+1}`),s(!0),e.pause(),setTimeout((()=>{s(!1),e.play(),i((e=>e+1))}),4e3)),e.currentTime<o[0].time&&r>=o.length&&(console.log("Video looped, resetting popup index."),i(0))};return e.addEventListener("timeupdate",n),()=>{e.removeEventListener("timeupdate",n)}}),[r,o,t]),n.createElement("div",{className:"video-container"},n.createElement("video",{id:`video-${t}`,width:"800",controls:!0,loop:!0},n.createElement("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."),p&&r<o.length&&n.createElement("div",{className:"popup",style:{border:"1px solid red"}},n.createElement("img",{src:o[r].imgSrc,alt:"Popup",id:"popupImage"}),n.createElement("div",{id:"popupText"},o[r].message),n.createElement("p",{style:{color:"white"}},"Popup index: ",r)))}}}]);
//# sourceMappingURL=component---src-pages-video-with-popups-js-9af94d4562eb786e0eeb.js.map